# ูุธุงู ุฅุตุฏุงุฑ ุงูุณูุฏุงุช ุงููุงููุฉ

## ูุธุฑุฉ ุนุงูุฉ
ูุธุงู ูุชูุงูู ูุฅุตุฏุงุฑ ุณูุฏุงุช ุงูุฅุดุนุงุฑ ุงููุฏูู ูุงูุฏุงุฆู ุจุชุตููู ุงุญุชุฑุงูู ูุทุงุจู ุงููุนุงููุฑ ุงููุญุงุณุจูุฉ ูุน ููุฌู ุงูุดุฑูุฉ ูู ุงูููุฏุฑ.

## ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุญูู receipt_number**: ุฑูู ูุฑูุฏ ูู 6 ุฃุฑูุงู ูุชู ุชูููุฏู ุชููุงุฆูุงู
- **ุญูู receipt_generated_at**: ุชุงุฑูุฎ ูููุช ุฅูุดุงุก ุงูุณูุฏ
- **ุฏุงูุฉ generate_receipt_number()**: ุชูููุฏ ุฃุฑูุงู ูุชุณูุณูุฉ ููุณูุฏุงุช

### 2. ูููุงุช ุงููุณุงุนุฏุฉ

#### constants/companyInfo.ts
ูุญุชูู ุนูู ูุนูููุงุช ุงูุดุฑูุฉ:
- ุงูุงุณู ุจุงูุนุฑุจู ูุงูุฅูุฌููุฒู
- ุงูุนูุงููู ูุฃุฑูุงู ุงูููุงุชู
- ูุนูููุงุช ุงูููุชุจ ุงูุฑุฆูุณู

#### utils/numberToArabicText.ts
ุชุญููู ุงูุฃุฑูุงู ุฅูู ูุต ุนุฑุจู:
- numberToArabicText(1000) โ "ุฃูู"
- numberToArabicTextWithCurrency(1000, 'USD') โ "ุฃูู ุฏููุงุฑ ุฃูุฑููู ูุง ุบูุฑ"

#### utils/receiptGenerator.ts
ุชูููุฏ HTML ููุณูุฏ:
- generateReceiptHTML(): ุฅูุดุงุก HTML ูุงูู ุจุงูุชุตููู ุงููุทููุจ
- generateQRCodeData(): ุชูููุฏ ุจูุงูุงุช QR Code

#### services/receiptService.ts
ุฎุฏูุงุช ุงูุณูุฏ:
- generateAndShareReceipt(): ุฅูุดุงุก ููุดุงุฑูุฉ ุงูุณูุฏ
- printReceipt(): ุทุจุงุนุฉ ุงูุณูุฏ
- getPlaceholderQRCode(): ุจุงุฑููุฏ ูููู ูุจุฏุฆู

### 3. ุงููุงุฌูุงุช

#### app/new-movement.tsx
- ุจุนุฏ ุญูุธ ุงูุญุฑูุฉ ุงููุงููุฉ ูุนุฑุถ Alert ูุน ุฎูุงุฑูู:
  - **ุนุฑุถ ุงูุณูุฏ**: ููุชุญ ุตูุญุฉ ุงููุนุงููุฉ
  - **ุฅุบูุงู**: ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุณุงุจูุฉ

#### app/receipt-preview.tsx
- ุนุฑุถ ุงูุณูุฏ ุจุชุตููู HTML ูุงูู
- ุฃุฒุฑุงุฑ ููุทุจุงุนุฉ ูุงููุดุงุฑูุฉ
- ุชุญููู QR Code ุฅูู ุตูุฑุฉ Base64

## ุงูุชุตููู

### ุงูููุฏุฑ (100% ูุทุงุจู ููุตูุฑุฉ)
- ุฎูููุฉ ุซูุงุซูุฉ ุงูุฃููุงู (ุฃุฒุฑู ุบุงูู #1E5F8C - ุฃุญูุฑ #DC2626 - ุฃุฒุฑู ูุงุชุญ #60A5DA)
- **ุงููุณุงุฑ**: ูุฑุจุน ุฃุฒุฑู ุบุงูู ูุญุชูู ุนูู:
  - ๐ Head office Sanaa North 60th St
  - ๐ 01583111-01583222
- **ุงูููุชุตู**: ุงูููุฌู ููุท (a.jpg)
- **ุงููููู**: ูุฑุจุน ุฃุฒุฑู ูุงุชุญ ูุญุชูู ุนูู:
  - ูุนูุถ ุงููุนุฑููู ููุตุฑุงูุฉ ูุงูุชุญูููุงุช (ุนุฑุจู)
  - MOAWAD AL-MAROUFI FOR EXCHANGE & TRANSFERS (ุฅูุฌููุฒู)
  - ๐ ุงููุฑูุฒ ุงูุฑุฆูุณู - ุตูุนุงุก - ุดุงุฑุน ุงูุณุชูู ุงูุดูุงูู

### ูุณู ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ
ุซูุงุซุฉ ุตูุงุฏูู:
1. ุงูุชุงุฑูุฎ (ุฅุทุงุฑ ุฃุญูุฑ)
2. ููุน ุงูุณูุฏ (ุฎูููุฉ ุฒุฑูุงุก ููุญููุฉ)
3. ุงูุฑูู (ุฅุทุงุฑ ุฃุญูุฑ)

### ุจูุงูุงุช ุงูุนููู
- ุงูุณูุฏ + ุงูุงุณู + ุฑูู ุงูุญุณุงุจ ูู ุตู ูุงุญุฏ
- ูุต ุงูุชูุจูู: "ููุฏ ุฅุดุนุงุฑูู ุฃููุง ููุฏูุง..."

### ุฌุฏูู ุงูุชูุงุตูู
| ูุจูุบ ุงูุญุณุงุจ | ุนููุฉ ุงูุญุณุงุจ | ุงูุนูููุฉ | ุงูุฅุฌูุงูู |

### ุงููุจูุบ ุจุงูุญุฑูู
"ุฃูู ุฏููุงุฑ ุฃูุฑููู ูุง ุบูุฑ"

### ุงููุณู ุงูุณููู
- QR Code ุนูู ุงููุณุงุฑ
- ุจูุงูุงุช ุงูุญูุงูุฉ ุนูู ุงููููู:
  - ุงููุฌู
  - ุฑูู ุงูุญูุงูุฉ
  - ุงููุฑุณู
  - ุงููุณุชูู
  - ุงูุฑูู ุงูุนุงู

### ุงูุชุฐููู
- ุงูููุช ูุงูุชุงุฑูุฎ
- "ูุฐุง ุงูุฅุดุนุงุฑ ูุง ูุฎุถุน ูุฎุชู ุฃู ุชูููุน"

## ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ุณูุฏ ุฌุฏูุฏ
```typescript
// ุจุนุฏ ุญูุธ ุงูุญุฑูุฉ ุงููุงููุฉ
const { data: insertedData } = await supabase
  .from('account_movements')
  .insert([movementData])
  .select()
  .single();

// ุนุฑุถ ุฎูุงุฑ ุงูุณูุฏ
Alert.alert('ูุฌุญ', 'ุชู ุฅุถุงูุฉ ุงูุญุฑูุฉ ุจูุฌุงุญ', [
  {
    text: 'ุนุฑุถ ุงูุณูุฏ',
    onPress: () => router.push({
      pathname: '/receipt-preview',
      params: {
        movementId: insertedData.id,
        customerName: customerName,
      },
    }),
  },
]);
```

### ูุดุงุฑูุฉ ุงูุณูุฏ
```typescript
import { generateAndShareReceipt } from '@/services/receiptService';

await generateAndShareReceipt({
  movement: movementData,
  customerName: 'ุนูู ูุงุฏู',
  qrCodeDataUrl: qrCode,
  commission: 700,
  destination: 'ุงููุตุฑู ุงูุฏุงุฑุฉ',
});
```

## ุงูููุฒุงุช

### QR Code
- ูุญุชูู ุนูู:
  - ุฑูู ุงูุณูุฏ
  - ุงุณู ุงูุนููู
  - ุงููุจูุบ ูุงูุนููุฉ
  - ุงูุชุงุฑูุฎ
  - ููุน ุงูุญุฑูุฉ

### ุงูุทุจุงุนุฉ
- ุชุตุฏูุฑ PDF ุฌุงูุฒ ููุทุจุงุนุฉ
- ุชูุณูู A4
- ุฌูุฏุฉ ุนุงููุฉ ููุทุจุงุนุฉ

### ุงููุดุงุฑูุฉ
- ูุดุงุฑูุฉ ุนุจุฑ WhatsApp
- ูุดุงุฑูุฉ ุนุจุฑ ุฃู ุชุทุจูู ุขุฎุฑ
- ุชุตุฏูุฑ PDF

## ุงูุชุฎุตูุต

### ุชุบููุฑ ูุนูููุงุช ุงูุดุฑูุฉ
ุนุฏูู ููู `constants/companyInfo.ts`:
```typescript
export const COMPANY_INFO = {
  nameAr: 'ุงุณู ุดุฑูุชู',
  phone1: '01234567',
  // ...
};
```

### ุชุบููุฑ ุงูุฃููุงู
ุนุฏูู ููู `utils/receiptGenerator.ts`:
```css
.header {
  background: linear-gradient(...);
}
```

## ููุงุญุธุงุช
- ุฑูู ุงูุณูุฏ ูุจุฏุฃ ูู 100001 ููุฒูุฏ ุชููุงุฆูุงู
- ุงูุณูุฏ ูุฏุนู ุฌููุน ุงูุนููุงุช ุงููุนุฑูุฉ ูู ุงููุธุงู
- ูููู ุฅุถุงูุฉ ุนูููุฉ ุงุฎุชูุงุฑูุฉ
- ุงูุชุงุฑูุฎ ูุงูููุช ูุชู ุฃุฎุฐููุง ูู created_at ููุญุฑูุฉ
